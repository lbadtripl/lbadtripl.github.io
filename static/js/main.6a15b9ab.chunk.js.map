{"version":3,"sources":["Componenets/Nav/Nav.module.css","api/api.js","assets/images/images.jpg","Redux/dialog-reducer.js","Componenets/Users/Users.module.css","Componenets/common/preloader/FormControls/FormControls.jsx","Redux/auth-reducer.js","Componenets/Header/modalWindow.jsx","Componenets/Header/Header.jsx","Componenets/Header/HeaderContainer.jsx","Componenets/login/login.jsx","Componenets/Music/Music.jsx","Componenets/Nav/Nav.jsx","Componenets/News/News.jsx","Componenets/Settings/Settings.jsx","utilites/objectHelpers.js","Redux/users-reducer.js","Componenets/common/Paginator/Paginator.jsx","Componenets/Users/User.jsx","Componenets/Users/Users.jsx","Redux/users-selectors.js","Componenets/Users/UsersContainer.jsx","Redux/App-reducer.js","Redux/nav-reducer.js","Redux/redux-store.js","App.js","index.js","Componenets/common/preloader/FormControls/FormControls.module.css","assets/images/Plant.gif","Componenets/common/preloader/Preloader.jsx","utilites/validators/validators.js","Componenets/common/Paginator/Paginator.module.css","Componenets/Header/Header.module.css","Componenets/Nav/Friends/Friends.module.css","Componenets/hoc/WithAuthRedirect.jsx","Redux/profile-reducer.js"],"names":["module","exports","instance","axios","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityApi","getCapchaUrl","addMessage","addMessageActionCreator","newMessageBody","type","initialState","dialogs","id","name","image","messages","message","dialogReducer","state","action","TextArea","props","input","restProps","meta","child","FormControl","Input","hasError","touched","error","className","styles","formControl","children","fieldCreator","placeholder","component","validators","text","validate","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","setAuthUserData","isAuth","getAuthUserDataThunkCreator","dispatch","a","resultCode","capchaUrl","url","authReducer","Modal","globalError","Header","s","header","src","loginBlock","onClick","logoutThunkCreator","to","HeaderContainer","this","React","Component","connect","auth","LoginReduxForm","reduxForm","form","handleSubmit","log","onSubmit","required","formSummuryError","loginThunkCreator","length","stopSubmit","_error","Music","Nav","nav","item","navData","isActive","active","friendsBlock","News","Settings","updateobjectInArray","items","itemId","objectPropName","newObjectProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOOGLE_IS_FETCHING","TOOGLE_IS_F0LL0WING_PROGRESS","followSuccess","unfollowSuccess","setUsers","users","toogleIsFetching","isFetching","toogleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","totalUsersCount","followingInProgress","usersReduser","followed","count","filter","Paginator","onPageChainged","totalItemsCount","portionSize","pagesCount","Math","ceil","pages","i","push","portionsCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","p","cn","selectedPage","pageNumber","e","User","user","photos","small","userPhoto","usersPhoto","disabled","some","Users","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageChangingThunkCreater","getUsersThunkCreater","Preloader","compose","withAuthRedirect","bind","totalCount","INITIALAIZING_SUCCESS","GLOBAL_ERROR","globalErrorAC","initialaized","appReducer","friendsList","navReducer","reducers","combineReducers","profilePage","profileReducer","messagesPage","navBar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","ProfileContainer","App","catchAllRejectionErrors","reason","promise","errorsThunkCreator","initializeAppThunk","addEventListener","removeEventListener","fallback","path","element","AppContainer","setTimeout","SamuraiJsApp","ReactDOM","render","document","getElementById","preloaderImg","value","maxLengthCreator","maxLength","mapStateToPropsForRedirect","RedirectComponent","addPost","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","SWITCHING_OFF_EDIT_MODE","addPostActionCreator","newPostText","setStatus","setEditMode","editMode","getUserProfileThunkCreator","getUserStatusThunkCreator","updateUserStatusThunkCreator","savePhotoThunkCreator","file","saveProfileThunkCreator","getState","posts","likeCounts"],"mappings":"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","file":"static/js/main.6a15b9ab.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__u6kWp\",\"item\":\"Nav_item__OFV77\",\"active\":\"Nav_active__3iRo7\",\"friendsBlock\":\"Nav_friendsBlock__1JMep\"};","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: { \"API-KEY\": \"fa965eea-c980-4588-9e81-ed348984d809\" },\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\"\r\n})\r\n\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`Users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn(\"Obsolete method. Please use profileAPI object.\")\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status })\r\n\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put(`profile/photo`, formData, { headers: { \"Content-Type\": \"multipart/form-data\" } })\r\n\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe, captcha })\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\nexport const securityApi = {\r\n    getCapchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n\r\n}\r\n","export default __webpack_public_path__ + \"static/media/images.9c1414a9.jpg\";","const addMessage = \"ADD-MESSAGE\";\r\nexport const addMessageActionCreator = (newMessageBody) => ({ type: addMessage, newMessageBody })\r\n\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: \"1\", name: \"Dymich\", image: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_8jZq4uBcSg4Yd4sbMBC5hUd7OFsVPG49ww&usqp=CAU\" },\r\n        { id: \"2\", name: \"Sasha\", image: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTSxDCAlgsOq4JsYxNAewwgeReEo4pu05w4bQ&usqp=CAU\" },\r\n        { id: \"3\", name: \"Pasha\", image: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTWaFd0FvKJlXESbpMMjZM1Fe05-kVR5QeDJw&usqp=CAU\" },\r\n        { id: \"4\", name: \"Valera\", image: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS5gXpk8DoJb5JdZn8qGVenl6LMZOzmIEvsgA&usqp=CAU\" },\r\n        { id: \"5\", name: \"Anya\", image: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRYs5pjJL91GmWCY320ehmbGjILJt5ofZCmxA&usqp=CAU\" }\r\n    ],\r\n    messages: [\r\n        { id: \"1\", message: \"Hello world!\" },\r\n        { id: \"2\", message: \"How are u\" },\r\n        { id: \"3\", message: \"Legendary!\" },\r\n        { id: \"4\", message: \"Yo!\" },\r\n        { id: \"5\", message: \"Yo!\" }\r\n    ],\r\n}\r\n\r\nconst dialogReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case addMessage:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, { id: \"6\", message: action.newMessageBody }]\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default dialogReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__2bepX\"};","import { Field } from \"redux-form\"\r\nimport styles from \"./FormControls.module.css\"\r\n\r\nexport const TextArea = (props) => {\r\n    const { input, meta, child, ...restProps } = props\r\n    return (\r\n        <FormControl {...props} > <textarea {...input} {...restProps} /></FormControl>\r\n    )\r\n}\r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps } = props\r\n    return (\r\n        <FormControl {...props} > <input {...input} {...restProps} /></FormControl>\r\n    )\r\n}\r\nconst FormControl = ({ input, meta, child, ...props }) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \" \")}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const fieldCreator = (placeholder, name, component, validators, props = {}, text = \"\" ) => <div><Field placeholder={placeholder} name={name} component={component} validate={validators} {...props}/>{text}</div>","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI, securityApi } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"samurai-network/auth/SET_USER_DATA\";\r\nconst GET_CAPTCHA_URL_SUCCESS = \"GET_CAPTCHA_URL_SUCCESS\";\r\n\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, data: { userId, email, login, isAuth } })\r\nexport const getCaptchaUrlSuccess = (url) => ({ type: GET_CAPTCHA_URL_SUCCESS, url })\r\n\r\nexport const getAuthUserDataThunkCreator = () => async (dispatch) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let { id, login, email } = response.data.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const loginThunkCreator = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserDataThunkCreator())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCapchaUrl())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\r\n        dispatch(stopSubmit(\"login\", { _error: message }))\r\n    }\r\n}\r\n\r\n\r\nexport const getCapchaUrl = () => async (dispatch) => {\r\n    const response = await securityApi.getCapchaUrl()\r\n    const capchaUrl = response.data.url\r\n    dispatch(getCaptchaUrlSuccess(capchaUrl))\r\n}\r\n\r\n\r\n\r\nexport const logoutThunkCreator = () => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    capchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state, capchaUrl: action.url\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;","import  \"./modalWindow.css\"\r\n\r\nconst Modal = ({globalError}) => {\r\n\r\n    return (\r\n        <div className = {globalError ? \"modal active\" : \"modal\"} >\r\n            <div className = \"modal__content\">\r\n                <span>{globalError}</span>    \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Modal","import { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\nimport Modal from './modalWindow';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src=\"logo.png\" />\r\n            <div className={s.loginBlock}>{\r\n                props.isAuth? \r\n                <div> {props.login} - <button onClick = {props.logoutThunkCreator}>Logout</button> </div>\r\n                  :<NavLink to={\"/login\"}>Login</NavLink>\r\n            }     \r\n            </div>\r\n        </header>)\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutThunkCreator} from \"../../Redux/auth-reducer\";\r\nimport Header from \"./Header\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() { \r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth:state.auth.isAuth,\r\n    login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps, { logoutThunkCreator} ) (HeaderContainer); \r\n","import { connect } from \"react-redux\"\r\nimport { Navigate } from \"react-router-dom\"\r\nimport { Field, reduxForm } from \"redux-form\"\r\nimport { loginThunkCreator } from \"../../Redux/auth-reducer\"\r\nimport { required } from \"../../utilites/validators/validators\"\r\nimport { fieldCreator, Input } from \"../common/preloader/FormControls/FormControls\"\r\nimport styles from \"../common/preloader/FormControls/FormControls.module.css\"\r\n\r\nconst LoginForm = ({ handleSubmit, error, capchaUrl }) => {\r\n    console.log(\"rerender\")\r\n    return (\r\n        <form onSubmit={handleSubmit} >\r\n\r\n            {fieldCreator(\"Email\", \"email\", Input, [required])}\r\n            {fieldCreator(\"Password\", \"password\", Input, [required], { type: \"password\" })}\r\n            {fieldCreator(null, \"rememberMe\", Input, [], { type: \"checkbox\" }, \"remember me\")}\r\n\r\n            {capchaUrl && <img src={capchaUrl} />}\r\n            {capchaUrl && fieldCreator(\"Inter image text\", \"captcha\", Input, [required])}\r\n\r\n            {error && <div className={styles.formSummuryError}> {error} </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm({ form: \"login\" })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.loginThunkCreator(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Navigate to={\"/Profile/22240\"} />\r\n    }\r\n    return (\r\n        <div>\r\n            <h1> Login </h1>\r\n            <LoginReduxForm onSubmit={onSubmit} capchaUrl={props.capchaUrl} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    capchaUrl: state.auth.capchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, { loginThunkCreator })(Login);","import s from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\nreturn (\r\n<div>\r\n    Music\r\n</div>\r\n)\r\n}\r\n\r\nexport default Music;","import s from './Nav.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport FriendItem from './Friends/Friends';\r\nconst Nav = (props) => {\r\n  // let friendsElements = props.state.map(d => <FriendItem name={d.name} id={d.id} image={d.image} />)\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/Profile\" className={navData => navData.isActive ? s.active : s.item}>Profile</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/Dialogs\" className={navData => navData.isActive ? s.active : s.item}>Messages</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/Users\" className={navData => navData.isActive ? s.active : s.item}>Users</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/News\" className={navData => navData.isActive ? s.active : s.item}>News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/Music\" className={navData => navData.isActive ? s.active : s.item}>Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/Settings\" className={navData => navData.isActive ? s.active : s.item}>Settings</NavLink>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={s.friendsBlock}>\r\n        <h2>Friends</h2>\r\n        {/* <div className={s.friendsElements}>\r\n          {friendsElements}\r\n        </div> */}\r\n      </div>\r\n    </nav>)\r\n}\r\n\r\nexport default Nav;","import s from \"./News.module.css\";\r\n\r\nconst News=(props)=>{\r\n    return(\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import s from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\nreturn (\r\n<div>\r\nSettings\r\n</div>\r\n)\r\n}\r\n\r\nexport default Settings;","export const updateobjectInArray = (items, itemId, objectPropName, newObjectProps) => {\r\n    return items.map(u => {\r\n        if (u[objectPropName] === itemId) {\r\n            return { ...u, ...newObjectProps }\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from \"../api/api\";\r\nimport { updateobjectInArray } from \"../utilites/objectHelpers\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOOGLE_IS_FETCHING = \"TOOGLE_IS_FETCHING\";\r\nconst TOOGLE_IS_F0LL0WING_PROGRESS = \"TOOGLE_IS_F0LL0WING_PROGRESS\";\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage: currentPage })\r\nexport const setTotalUsersCount = (totalCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalCount })\r\nexport const toogleIsFetching = (isFetching) => ({ type: TOOGLE_IS_FETCHING, isFetching })\r\nexport const toogleFollowingProgress = (isFetching, userId) => ({ type: TOOGLE_IS_F0LL0WING_PROGRESS, isFetching, userId })\r\nexport const getUsersThunkCreater = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toogleIsFetching(true))\r\n    let data = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(toogleIsFetching(false))\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n}\r\n\r\nexport const pageChangingThunkCreater = (pageNumber, pageSize) => async (dispatch) => {\r\n    dispatch(setCurrentPage(pageNumber))\r\n    dispatch(toogleIsFetching(true))\r\n    let data = await usersAPI.getUsers(pageNumber, pageSize)\r\n    dispatch(toogleIsFetching(false))\r\n    dispatch(setUsers(data.items));\r\n}\r\n\r\nlet followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toogleFollowingProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode == 0) { dispatch(actionCreator(userId)) }\r\n    dispatch(toogleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => { followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess) }\r\n\r\nexport const unfollow = (userId) => async (dispatch) => { followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess) }\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReduser = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case FOLLOW:\r\n            return {...state, users: updateobjectInArray(state.users, action.userId, \"id\", {followed: true})}\r\n        case UNFOLLOW:\r\n            return {...state, users: updateobjectInArray(state.users, action.userId, \"id\", {followed: false})}\r\n        case SET_USERS: {\r\n            return {\r\n                ...state, users: action.users\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state, totalUsersCount: action.count\r\n            }\r\n        }\r\n        case TOOGLE_IS_FETCHING: {\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOOGLE_IS_F0LL0WING_PROGRESS: {\r\n            return {\r\n                ...state, followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default usersReduser;","import React, { useState } from \"react\";\r\nimport s from \"./Paginator.module.css\"\r\nimport cn from \"classnames\"\r\n\r\nconst Paginator = ({ currentPage, onPageChainged, totalItemsCount, pageSize, portionSize = 10 }) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionsCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return <div className={s.paginator}>\r\n        {portionNumber > 1 && <button onClick={() => {setPortionNumber(portionNumber - 1)}}>PREV</button>}\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <span className={ cn({[s.selectedPage]:currentPage === p}, s.pageNumber)}\r\n                    onClick={(e) => { onPageChainged(p) }} key={p} >{p}</span>\r\n            })}\r\n\r\n        {portionsCount > portionNumber && <button onClick={() => {setPortionNumber(portionNumber + 1)}}>NEXT</button>}\r\n    </div>\r\n        }\r\n\r\n\r\nexport default Paginator","import React from \"react\";\r\nimport s from \"./Users.module.css\"\r\nimport userPhoto from \"../../assets/images/images.jpg\"\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n\r\n    return <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={\"/Profile/\" + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                            className={s.usersPhoto} />\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            unfollow(user.id)\r\n\r\n                        }}>Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            follow(user.id)\r\n                        }}>Follow</button>}\r\n\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>\r\n                        {user.name}\r\n                    </div>\r\n                    <div>\r\n                        {user.status}\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <div>\r\n                        {\"user.location.country\"}\r\n                    </div>\r\n                    <div>\r\n                        {\"user.location.city\"}\r\n                    </div>\r\n                </span>\r\n            </span>\r\n    </div>\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({ currentPage, onPageChainged, totalUsersCount, pageSize, followingInProgress, unfollow, follow, users}) => {\r\n    return (\r\n        <div>\r\n            <Paginator currentPage={currentPage} onPageChainged={onPageChainged} totalItemsCount={totalUsersCount} pageSize={pageSize} />\r\n\r\n            {users.map(u => <User key={u.id} user={u} followingInProgress={followingInProgress} unfollow={unfollow} follow={follow} />)}\r\n        </div>)\r\n}\r\n\r\nexport default Users;","\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { follow, unfollow, pageChangingThunkCreater, getUsersThunkCreater } from \"../../Redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthRedirect } from \"../hoc/WithAuthRedirect\";\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers } from \"../../Redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize, getUsersThunkCreater} = this.props\r\n        getUsersThunkCreater(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChainged = (pageNumber) => {\r\n        const {pageSize, pageChangingThunkCreater} = this.props\r\n        pageChangingThunkCreater(pageNumber, pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChainged={this.onPageChainged}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n\r\n    }\r\n}\r\n\r\nexport default compose(withAuthRedirect,\r\n    connect(mapStateToProps, { follow, unfollow, getUsersThunkCreater, pageChangingThunkCreater }),\r\n)(UsersContainer)","import { getAuthUserDataThunkCreator } from \"./auth-reducer\";\r\n\r\n\r\nconst INITIALAIZING_SUCCESS = \"INITIALAIZING_SUCCESS\";\r\nconst GLOBAL_ERROR = \"GLOBAL_ERROR\";\r\nexport const initialaizingSuccess = () => ({ type: INITIALAIZING_SUCCESS })\r\nexport const globalErrorAC = (message) => ({ type: GLOBAL_ERROR, message })\r\nexport const initializeAppThunk = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserDataThunkCreator())\r\n    promise.then(() => { dispatch(initialaizingSuccess()) })\r\n}\r\nexport const errorsThunkCreator = () => (dispatch) => {\r\n    const message = \"BUY SUBSCRYBE\"\r\n    const switchingOffErrorMassage = () => {return dispatch(globalErrorAC(null))}\r\n    dispatch(globalErrorAC(message))\r\n    setTimeout(switchingOffErrorMassage, 5000)\r\n}\r\n\r\nlet initialState = {\r\n    initialaized: false,\r\n    globalError: null\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case INITIALAIZING_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialaized: true\r\n            }\r\n        case GLOBAL_ERROR:\r\n            return {\r\n                ...state,\r\n                globalError: action.message\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default appReducer;","let initialState= {\r\n    friendsList: [\r\n        { id: \"2\", name: \"Sasha\", image: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTSxDCAlgsOq4JsYxNAewwgeReEo4pu05w4bQ&usqp=CAU\" },\r\n        { id: \"3\", name: \"Pasha\", image: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTWaFd0FvKJlXESbpMMjZM1Fe05-kVR5QeDJw&usqp=CAU\" }\r\n    ]\r\n}\r\n\r\nconst navReducer = (state=initialState, action) => {\r\n            return state;  \r\n}\r\n\r\nexport default navReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport dialogReducer from \"./dialog-reducer\";\r\nimport navReducer from \"./nav-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport usersReduser from \"./users-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from \"./App-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage:profileReducer,\r\n    messagesPage:dialogReducer,\r\n    navBar:navReducer,\r\n    usersPage:usersReduser,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;\r\n","\nimport React, { Suspense } from 'react';\nimport { connect, Provider } from 'react-redux';\nimport { Routes, Route, BrowserRouter, Navigate } from 'react-router-dom';\nimport './App.css';\nimport Preloader from './Componenets/common/preloader/Preloader';\nimport HeaderContainer from './Componenets/Header/HeaderContainer';\nimport Modal from './Componenets/Header/modalWindow';\nimport Login from './Componenets/login/login';\nimport Music from './Componenets/Music/Music';\nimport Nav from './Componenets/Nav/Nav';\nimport News from './Componenets/News/News';\nimport Settings from './Componenets/Settings/Settings';\nimport UsersContainer from './Componenets/Users/UsersContainer';\nimport { initializeAppThunk, errorsThunkCreator, globalErrorAC } from './Redux/App-reducer';\nimport store from './Redux/redux-store';\n\nconst DialogsContainer = React.lazy(() => import('./Componenets/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./Componenets/Profile/ProfileContainer'));\n\nclass App extends React.Component {\n\n  catchAllRejectionErrors = (reason, promise) => {\n    this.props.errorsThunkCreator()\n  }\n  componentDidMount() {\n    this.props.initializeAppThunk()\n    window.addEventListener(\"unhandledrejection\", this.catchAllRejectionErrors)\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"unhandledrejection\", this.catchAllRejectionErrors)\n  }\n\n  render() {\n    if (!this.props.initialaized) {\n      return <Preloader />\n    }\n\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Nav />\n        <div className=\"app-wrapper-content\">\n          <Suspense fallback={<Preloader />}>\n            <Routes>\n\n              <Route path=\"/\" element={<Navigate to=\"/Profile\" />} />\n              <Route path=\"/Profile/:userId\" element={<ProfileContainer />} />\n              <Route path=\"/Profile\" element={<ProfileContainer />} />\n              <Route path=\"/Dialogs/*\" element={<DialogsContainer />} />\n              <Route path=\"/Users/*\" element={<UsersContainer />} />\n              <Route path=\"/News\" element={<News />} />\n              <Route path=\"/Music\" element={<Music />} />\n              <Route path=\"/Settings\" element={<Settings />} />\n              <Route path=\"/login\" element={<Login />} />\n              <Route path=\"*\" element=\"404 NOT FOUND\" />\n\n            </Routes>\n          </Suspense>\n        </div>\n        <div>\n          {this.props.globalError && <Modal globalError = {this.props.globalError}/>}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialaized: state.app.initialaized,\n  globalError: state.app.globalError\n})\n\nlet AppContainer = connect(mapStateToProps, { initializeAppThunk, errorsThunkCreator })(App);\n\nexport const SamuraiJsApp = (props) => {\n  return (\n\n    <BrowserRouter>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </BrowserRouter>)\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport  { SamuraiJsApp } from './App';\n\n\n\n  ReactDOM.render(<SamuraiJsApp/>, document.getElementById('root'));\n\n\n\n\n\n\n\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__ZteGj\",\"error\":\"FormControls_error__38MkC\",\"formSummuryError\":\"FormControls_formSummuryError__3X46M\"};","export default __webpack_public_path__ + \"static/media/Plant.13553ec7.gif\";","import preloaderImg from \"../../../assets/images/Plant.gif\"\r\n\r\nlet Preloader = (props) => {\r\n    return <div>\r\n <img src={preloaderImg} />\r\n    </div>\r\n}\r\n\r\nexport default Preloader","export const required = (value) => {\r\n    if (value) {\r\n        return undefined\r\n    }\r\n    return \"Field is required\"\r\n}\r\nexport const maxLengthCreator = (maxLength) => { \r\n    return (value) => {\r\n    if (value.length > maxLength) {\r\n        return  `Max length is ${maxLength} symbols`\r\n    }\r\n    return undefined\r\n}\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2ZEWz\",\"pageNumber\":\"Paginator_pageNumber__17WYp\",\"selectedPage\":\"Paginator_selectedPage__3hkzG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3sVTi\",\"loginBlock\":\"Header_loginBlock__3uf1s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Friends_dialog__3aQ1t\"};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRedirect =(state)=>({\r\n    isAuth: state.auth.isAuth\r\n    })\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Navigate to=\"/login\" />;\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    \r\n   let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n\r\n","import { stopSubmit } from \"redux-form\";\r\nimport { profileAPI, usersAPI } from \"../api/api\";\r\n\r\nconst addPost = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\r\nconst SWITCHING_OFF_EDIT_MODE = \"SWITCHING_OFF_EDIT_MODE\"\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: addPost, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\nexport const setEditMode = (editMode) => ({type: SWITCHING_OFF_EDIT_MODE, editMode})\r\n\r\nexport const getUserProfileThunkCreator = (userId) => {\r\n    return (dispatch) => {\r\n        usersAPI.getProfile(userId).then(\r\n            response => {\r\n                dispatch(setUserProfile(response.data));\r\n            })\r\n    }\r\n}\r\nexport const getUserStatusThunkCreator = (userId) => {\r\n    return (dispatch) => {\r\n        profileAPI.getStatus(userId).then(\r\n            response => {\r\n                dispatch(setStatus(response.data));\r\n            })\r\n    }\r\n}\r\nexport const updateUserStatusThunkCreator = (status) => {\r\n    return (dispatch) => {\r\n        profileAPI.updateStatus(status).then(\r\n            response => {\r\n                if (response.data.resultCode===0){\r\n                dispatch(setStatus(status));\r\n                }\r\n            })\r\n    }\r\n}\r\nexport const savePhotoThunkCreator = (file) => {\r\n    return (dispatch) => {\r\n        profileAPI.savePhoto(file).then(\r\n            response => {\r\n                if (response.data.resultCode===0){\r\n                dispatch(savePhotoSuccess(response.data.data.photos));\r\n                }\r\n            })\r\n    }\r\n}\r\nexport const saveProfileThunkCreator = (profile) => {\r\n    return (dispatch, getState) => {\r\n       const userId = getState().auth.userId\r\n        profileAPI.saveProfile(profile).then(\r\n            response => {\r\n                if (response.data.resultCode===0){\r\n                dispatch(getUserProfileThunkCreator(userId));\r\n                dispatch(setEditMode(false))\r\n                } else {\r\n                    dispatch(stopSubmit(\"edit-profile\", { _error: response.data.messages[0]}))\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: \"1\", message: \"Hello world!\", likeCounts: \" 3\" },\r\n        { id: \"2\", message: \"Hi, its me!\", likeCounts: \" 5\" }\r\n    ],\r\n    profile: null,\r\n    status: \"\",\r\n    editMode: false\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case addPost:\r\n            return {\r\n                ...state, posts: [...state.posts, { id: \"5\", message: action.newPostText, likeCounts: \" 0\" }]\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state, profile: {...state.profile, photos: action.photos}\r\n            }\r\n        case SWITCHING_OFF_EDIT_MODE:\r\n            return {\r\n                ...state, editMode: action.editMode\r\n            }    \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}