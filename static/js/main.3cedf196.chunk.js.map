{"version":3,"sources":["Componenets/Nav/Nav.module.css","api/api.js","assets/images/images.jpg","Redux/dialog-reducer.js","Componenets/Users/Users.module.css","Componenets/common/preloader/FormControls/FormControls.jsx","Redux/auth-reducer.js","Componenets/Header/Header.jsx","Componenets/Header/HeaderContainer.jsx","Componenets/login/login.jsx","Componenets/Music/Music.jsx","Componenets/Nav/Nav.jsx","Componenets/News/News.jsx","Componenets/Settings/Settings.jsx","utilites/objectHelpers.js","Redux/users-reducer.js","Componenets/common/Paginator/Paginator.jsx","Componenets/Users/User.jsx","Componenets/Users/Users.jsx","Redux/users-selectors.js","Componenets/Users/UsersContainer.jsx","Redux/App-reducer.js","Redux/nav-reducer.js","Redux/redux-store.js","App.js","index.js","Componenets/common/preloader/FormControls/FormControls.module.css","assets/images/Plant.gif","Componenets/common/preloader/Preloader.jsx","utilites/validators/validators.js","Componenets/common/Paginator/Paginator.module.css","Componenets/Header/Header.module.css","Componenets/Nav/Friends/Friends.module.css","Componenets/hoc/WithAuthRedirect.jsx","Redux/profile-reducer.js"],"names":["module","exports","instance","axios","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityApi","getCapchaUrl","addMessage","addMessageActionCreator","newMessageBody","type","initialState","dialogs","id","name","image","messages","message","dialogReducer","state","action","TextArea","props","input","restProps","meta","child","FormControl","Input","hasError","touched","error","className","styles","formControl","children","fieldCreator","placeholder","component","validators","text","validate","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","setAuthUserData","isAuth","getAuthUserDataThunkCreator","dispatch","a","resultCode","capchaUrl","url","authReducer","Header","s","header","src","loginBlock","onClick","logoutThunkCreator","to","HeaderContainer","this","React","Component","connect","auth","LoginReduxForm","reduxForm","form","handleSubmit","log","onSubmit","required","formSummuryError","loginThunkCreator","length","stopSubmit","_error","Music","Nav","nav","item","navData","isActive","active","friendsBlock","News","Settings","updateobjectInArray","items","itemId","objectPropName","newObjectProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOOGLE_IS_FETCHING","TOOGLE_IS_F0LL0WING_PROGRESS","followSuccess","unfollowSuccess","setUsers","users","toogleIsFetching","isFetching","toogleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","totalUsersCount","followingInProgress","usersReduser","followed","count","filter","Paginator","onPageChainged","totalItemsCount","portionSize","pagesCount","Math","ceil","pages","i","push","portionsCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","p","cn","selectedPage","pageNumber","e","User","user","photos","small","userPhoto","usersPhoto","disabled","some","Users","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageChangingThunkCreater","getUsersThunkCreater","Preloader","compose","withAuthRedirect","bind","totalCount","INITIALAIZING_SUCCESS","initialaized","appReducer","friendsList","navReducer","reducers","combineReducers","profilePage","profileReducer","messagesPage","navBar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","ProfileContainer","App","initializeAppThunk","fallback","path","element","AppContainer","SamuraiJsApp","ReactDOM","render","document","getElementById","preloaderImg","value","maxLengthCreator","maxLength","mapStateToPropsForRedirect","RedirectComponent","addPost","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","SWITCHING_OFF_EDIT_MODE","addPostActionCreator","newPostText","setStatus","setEditMode","editMode","getUserProfileThunkCreator","getUserStatusThunkCreator","updateUserStatusThunkCreator","savePhotoThunkCreator","file","saveProfileThunkCreator","getState","posts","likeCounts"],"mappings":"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","file":"static/js/main.3cedf196.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__u6kWp\",\"item\":\"Nav_item__OFV77\",\"active\":\"Nav_active__3iRo7\",\"friendsBlock\":\"Nav_friendsBlock__1JMep\"};","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: { \"API-KEY\": \"fa965eea-c980-4588-9e81-ed348984d809\" },\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\"\r\n})\r\n\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`Users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn(\"Obsolete method. Please use profileAPI object.\")\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status })\r\n\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put(`profile/photo`, formData, { headers: { \"Content-Type\": \"multipart/form-data\" } })\r\n\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe, captcha })\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\nexport const securityApi = {\r\n    getCapchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n\r\n}\r\n","export default __webpack_public_path__ + \"static/media/images.9c1414a9.jpg\";","const addMessage = \"ADD-MESSAGE\";\r\nexport const addMessageActionCreator = (newMessageBody) => ({ type: addMessage, newMessageBody })\r\n\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: \"1\", name: \"Dymich\", image: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_8jZq4uBcSg4Yd4sbMBC5hUd7OFsVPG49ww&usqp=CAU\" },\r\n        { id: \"2\", name: \"Sasha\", image: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTSxDCAlgsOq4JsYxNAewwgeReEo4pu05w4bQ&usqp=CAU\" },\r\n        { id: \"3\", name: \"Pasha\", image: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTWaFd0FvKJlXESbpMMjZM1Fe05-kVR5QeDJw&usqp=CAU\" },\r\n        { id: \"4\", name: \"Valera\", image: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS5gXpk8DoJb5JdZn8qGVenl6LMZOzmIEvsgA&usqp=CAU\" },\r\n        { id: \"5\", name: \"Anya\", image: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRYs5pjJL91GmWCY320ehmbGjILJt5ofZCmxA&usqp=CAU\" }\r\n    ],\r\n    messages: [\r\n        { id: \"1\", message: \"Hello world!\" },\r\n        { id: \"2\", message: \"How are u\" },\r\n        { id: \"3\", message: \"Legendary!\" },\r\n        { id: \"4\", message: \"Yo!\" },\r\n        { id: \"5\", message: \"Yo!\" }\r\n    ],\r\n}\r\n\r\nconst dialogReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case addMessage:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, { id: \"6\", message: action.newMessageBody }]\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default dialogReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__2bepX\"};","import { Field } from \"redux-form\"\r\nimport styles from \"./FormControls.module.css\"\r\n\r\nexport const TextArea = (props) => {\r\n    const { input, meta, child, ...restProps } = props\r\n    return (\r\n        <FormControl {...props} > <textarea {...input} {...restProps} /></FormControl>\r\n    )\r\n}\r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps } = props\r\n    return (\r\n        <FormControl {...props} > <input {...input} {...restProps} /></FormControl>\r\n    )\r\n}\r\nconst FormControl = ({ input, meta, child, ...props }) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \" \")}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const fieldCreator = (placeholder, name, component, validators, props = {}, text = \"\" ) => <div><Field placeholder={placeholder} name={name} component={component} validate={validators} {...props}/>{text}</div>","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI, securityApi } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"samurai-network/auth/SET_USER_DATA\";\r\nconst GET_CAPTCHA_URL_SUCCESS = \"GET_CAPTCHA_URL_SUCCESS\";\r\n\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, data: { userId, email, login, isAuth } })\r\nexport const getCaptchaUrlSuccess = (url) => ({ type: GET_CAPTCHA_URL_SUCCESS, url })\r\n\r\nexport const getAuthUserDataThunkCreator = () => async (dispatch) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let { id, login, email } = response.data.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const loginThunkCreator = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserDataThunkCreator())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCapchaUrl())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\r\n        dispatch(stopSubmit(\"login\", { _error: message }))\r\n    }\r\n}\r\n\r\n\r\nexport const getCapchaUrl = () => async (dispatch) => {\r\n    const response = await securityApi.getCapchaUrl()\r\n    const capchaUrl = response.data.url\r\n    dispatch(getCaptchaUrlSuccess(capchaUrl))\r\n}\r\n\r\n\r\n\r\nexport const logoutThunkCreator = () => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    capchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state, capchaUrl: action.url\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;","import { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src=\"logo.png\" />\r\n            <div className={s.loginBlock}>{\r\n                props.isAuth? \r\n                <div> {props.login} - <button onClick = {props.logoutThunkCreator}>Logout</button> </div>\r\n                  :<NavLink to={\"/login\"}>Login</NavLink>\r\n            }\r\n                \r\n            </div>\r\n        </header>)\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutThunkCreator} from \"../../Redux/auth-reducer\";\r\nimport Header from \"./Header\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() { \r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth:state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, { logoutThunkCreator} ) (HeaderContainer); \r\n","import { connect } from \"react-redux\"\r\nimport { Navigate } from \"react-router-dom\"\r\nimport { Field, reduxForm } from \"redux-form\"\r\nimport { loginThunkCreator } from \"../../Redux/auth-reducer\"\r\nimport { required } from \"../../utilites/validators/validators\"\r\nimport { fieldCreator, Input } from \"../common/preloader/FormControls/FormControls\"\r\nimport styles from \"../common/preloader/FormControls/FormControls.module.css\"\r\n\r\nconst LoginForm = ({ handleSubmit, error, capchaUrl }) => {\r\n    console.log(\"rerender\")\r\n    return (\r\n        <form onSubmit={handleSubmit} >\r\n\r\n            {fieldCreator(\"Email\", \"email\", Input, [required])}\r\n            {fieldCreator(\"Password\", \"password\", Input, [required], { type: \"password\" })}\r\n            {fieldCreator(null, \"rememberMe\", Input, [], { type: \"checkbox\" }, \"remember me\")}\r\n\r\n            {capchaUrl && <img src={capchaUrl} />}\r\n            {capchaUrl && fieldCreator(\"Inter image text\", \"captcha\", Input, [required])}\r\n\r\n            {error && <div className={styles.formSummuryError}> {error} </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm({ form: \"login\" })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.loginThunkCreator(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Navigate to={\"/Profile/22240\"} />\r\n    }\r\n    return (\r\n        <div>\r\n            <h1> Login </h1>\r\n            <LoginReduxForm onSubmit={onSubmit} capchaUrl={props.capchaUrl} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    capchaUrl: state.auth.capchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, { loginThunkCreator })(Login);","import s from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\nreturn (\r\n<div>\r\n    Music\r\n</div>\r\n)\r\n}\r\n\r\nexport default Music;","import s from './Nav.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport FriendItem from './Friends/Friends';\r\nconst Nav = (props) => {\r\n  // let friendsElements = props.state.map(d => <FriendItem name={d.name} id={d.id} image={d.image} />)\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/Profile\" className={navData => navData.isActive ? s.active : s.item}>Profile</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/Dialogs\" className={navData => navData.isActive ? s.active : s.item}>Messages</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/Users\" className={navData => navData.isActive ? s.active : s.item}>Users</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/News\" className={navData => navData.isActive ? s.active : s.item}>News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/Music\" className={navData => navData.isActive ? s.active : s.item}>Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/Settings\" className={navData => navData.isActive ? s.active : s.item}>Settings</NavLink>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={s.friendsBlock}>\r\n        <h2>Friends</h2>\r\n        {/* <div className={s.friendsElements}>\r\n          {friendsElements}\r\n        </div> */}\r\n      </div>\r\n    </nav>)\r\n}\r\n\r\nexport default Nav;","import s from \"./News.module.css\";\r\n\r\nconst News=(props)=>{\r\n    return(\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import s from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\nreturn (\r\n<div>\r\nSettings\r\n</div>\r\n)\r\n}\r\n\r\nexport default Settings;","export const updateobjectInArray = (items, itemId, objectPropName, newObjectProps) => {\r\n    return items.map(u => {\r\n        if (u[objectPropName] === itemId) {\r\n            return { ...u, ...newObjectProps }\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from \"../api/api\";\r\nimport { updateobjectInArray } from \"../utilites/objectHelpers\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOOGLE_IS_FETCHING = \"TOOGLE_IS_FETCHING\";\r\nconst TOOGLE_IS_F0LL0WING_PROGRESS = \"TOOGLE_IS_F0LL0WING_PROGRESS\";\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage: currentPage })\r\nexport const setTotalUsersCount = (totalCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalCount })\r\nexport const toogleIsFetching = (isFetching) => ({ type: TOOGLE_IS_FETCHING, isFetching })\r\nexport const toogleFollowingProgress = (isFetching, userId) => ({ type: TOOGLE_IS_F0LL0WING_PROGRESS, isFetching, userId })\r\nexport const getUsersThunkCreater = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toogleIsFetching(true))\r\n    let data = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(toogleIsFetching(false))\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n}\r\n\r\nexport const pageChangingThunkCreater = (pageNumber, pageSize) => async (dispatch) => {\r\n    dispatch(setCurrentPage(pageNumber))\r\n    dispatch(toogleIsFetching(true))\r\n    let data = await usersAPI.getUsers(pageNumber, pageSize)\r\n    dispatch(toogleIsFetching(false))\r\n    dispatch(setUsers(data.items));\r\n}\r\n\r\nlet followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toogleFollowingProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode == 0) { dispatch(actionCreator(userId)) }\r\n    dispatch(toogleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => { followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess) }\r\n\r\nexport const unfollow = (userId) => async (dispatch) => { followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess) }\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReduser = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case FOLLOW:\r\n            return {...state, users: updateobjectInArray(state.users, action.userId, \"id\", {followed: true})}\r\n        case UNFOLLOW:\r\n            return {...state, users: updateobjectInArray(state.users, action.userId, \"id\", {followed: false})}\r\n        case SET_USERS: {\r\n            return {\r\n                ...state, users: action.users\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state, totalUsersCount: action.count\r\n            }\r\n        }\r\n        case TOOGLE_IS_FETCHING: {\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOOGLE_IS_F0LL0WING_PROGRESS: {\r\n            return {\r\n                ...state, followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default usersReduser;","import React, { useState } from \"react\";\r\nimport s from \"./Paginator.module.css\"\r\nimport cn from \"classnames\"\r\n\r\nconst Paginator = ({ currentPage, onPageChainged, totalItemsCount, pageSize, portionSize = 10 }) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionsCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return <div className={s.paginator}>\r\n        {portionNumber > 1 && <button onClick={() => {setPortionNumber(portionNumber - 1)}}>PREV</button>}\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <span className={ cn({[s.selectedPage]:currentPage === p}, s.pageNumber)}\r\n                    onClick={(e) => { onPageChainged(p) }} key={p} >{p}</span>\r\n            })}\r\n\r\n        {portionsCount > portionNumber && <button onClick={() => {setPortionNumber(portionNumber + 1)}}>NEXT</button>}\r\n    </div>\r\n        }\r\n\r\n\r\nexport default Paginator","import React from \"react\";\r\nimport s from \"./Users.module.css\"\r\nimport userPhoto from \"../../assets/images/images.jpg\"\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n\r\n    return <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={\"/Profile/\" + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                            className={s.usersPhoto} />\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            unfollow(user.id)\r\n\r\n                        }}>Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            follow(user.id)\r\n                        }}>Follow</button>}\r\n\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>\r\n                        {user.name}\r\n                    </div>\r\n                    <div>\r\n                        {user.status}\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <div>\r\n                        {\"user.location.country\"}\r\n                    </div>\r\n                    <div>\r\n                        {\"user.location.city\"}\r\n                    </div>\r\n                </span>\r\n            </span>\r\n    </div>\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({ currentPage, onPageChainged, totalUsersCount, pageSize, followingInProgress, unfollow, follow, users}) => {\r\n    return (\r\n        <div>\r\n            <Paginator currentPage={currentPage} onPageChainged={onPageChainged} totalItemsCount={totalUsersCount} pageSize={pageSize} />\r\n\r\n            {users.map(u => <User key={u.id} user={u} followingInProgress={followingInProgress} unfollow={unfollow} follow={follow} />)}\r\n        </div>)\r\n}\r\n\r\nexport default Users;","\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { follow, unfollow, pageChangingThunkCreater, getUsersThunkCreater } from \"../../Redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthRedirect } from \"../hoc/WithAuthRedirect\";\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers } from \"../../Redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize, getUsersThunkCreater} = this.props\r\n        getUsersThunkCreater(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChainged = (pageNumber) => {\r\n        const {pageSize, pageChangingThunkCreater} = this.props\r\n        pageChangingThunkCreater(pageNumber, pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChainged={this.onPageChainged}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n\r\n    }\r\n}\r\n\r\nexport default compose(withAuthRedirect,\r\n    connect(mapStateToProps, { follow, unfollow, getUsersThunkCreater, pageChangingThunkCreater }),\r\n)(UsersContainer)","import { getAuthUserDataThunkCreator } from \"./auth-reducer\";\r\n\r\n\r\nconst INITIALAIZING_SUCCESS = \"INITIALAIZING_SUCCESS\";\r\nexport const initialaizingSuccess = () => ({type: INITIALAIZING_SUCCESS})\r\nexport const initializeAppThunk = () => (dispatch) => {\r\n   let promise = dispatch(getAuthUserDataThunkCreator())\r\n   promise.then(() => {dispatch(initialaizingSuccess())})\r\n}\r\n\r\nlet initialState = {\r\n    initialaized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case INITIALAIZING_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialaized: true\r\n                }\r\n            \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default appReducer;","let initialState= {\r\n    friendsList: [\r\n        { id: \"2\", name: \"Sasha\", image: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTSxDCAlgsOq4JsYxNAewwgeReEo4pu05w4bQ&usqp=CAU\" },\r\n        { id: \"3\", name: \"Pasha\", image: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTWaFd0FvKJlXESbpMMjZM1Fe05-kVR5QeDJw&usqp=CAU\" }\r\n    ]\r\n}\r\n\r\nconst navReducer = (state=initialState, action) => {\r\n            return state;  \r\n}\r\n\r\nexport default navReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport dialogReducer from \"./dialog-reducer\";\r\nimport navReducer from \"./nav-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport usersReduser from \"./users-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from \"./App-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage:profileReducer,\r\n    messagesPage:dialogReducer,\r\n    navBar:navReducer,\r\n    usersPage:usersReduser,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;\r\n","\nimport React, { Suspense } from 'react';\nimport { connect, Provider } from 'react-redux';\nimport { Routes, Route, BrowserRouter, HashRouter } from 'react-router-dom';\nimport './App.css';\nimport Preloader from './Componenets/common/preloader/Preloader';\n// import DialogsContainer from './Componenets/Dialogs/DialogsContainer';\nimport HeaderContainer from './Componenets/Header/HeaderContainer';\nimport Login from './Componenets/login/login';\nimport Music from './Componenets/Music/Music';\nimport Nav from './Componenets/Nav/Nav';\nimport News from './Componenets/News/News';\n// import ProfileContainer from './Componenets/Profile/ProfileContainer';\nimport Settings from './Componenets/Settings/Settings';\nimport UsersContainer from './Componenets/Users/UsersContainer';\nimport { initializeAppThunk } from './Redux/App-reducer';\nimport store from './Redux/redux-store';\n\nconst DialogsContainer = React.lazy(() => import('./Componenets/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./Componenets/Profile/ProfileContainer'));\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeAppThunk()\n  }\n\n  render() {\n    if (!this.props.initialaized) {\n      return <Preloader />\n    }\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Nav />\n        <div className=\"app-wrapper-content\">\n          <Suspense fallback={<Preloader />}>\n            <Routes>\n              <Route path=\"/Profile/:userId\" element={<ProfileContainer />} />\n              <Route path=\"/Profile\" element={<ProfileContainer />} />\n              <Route path=\"/Dialogs/*\" element={<DialogsContainer />} />\n              <Route path=\"/Users/*\" element={<UsersContainer />} />\n              <Route path=\"/News\" element={<News />} />\n              <Route path=\"/Music\" element={<Music />} />\n              <Route path=\"/Settings\" element={<Settings />} />\n              <Route path=\"/login\" element={<Login />} />\n            </Routes>\n          </Suspense>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialaized: state.app.initialaized\n})\n\nlet AppContainer = connect(mapStateToProps, { initializeAppThunk })(App);\n\nexport const SamuraiJsApp = (props) => {\n  return (\n\n    <HashRouter>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </HashRouter>)\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport  { SamuraiJsApp } from './App';\n\n\n\n  ReactDOM.render(<SamuraiJsApp/>, document.getElementById('root'));\n\n\n\n\n\n\n\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__ZteGj\",\"error\":\"FormControls_error__38MkC\",\"formSummuryError\":\"FormControls_formSummuryError__3X46M\"};","export default __webpack_public_path__ + \"static/media/Plant.13553ec7.gif\";","import preloaderImg from \"../../../assets/images/Plant.gif\"\r\n\r\nlet Preloader = (props) => {\r\n    return <div>\r\n <img src={preloaderImg} />\r\n    </div>\r\n}\r\n\r\nexport default Preloader","export const required = (value) => {\r\n    if (value) {\r\n        return undefined\r\n    }\r\n    return \"Field is required\"\r\n}\r\nexport const maxLengthCreator = (maxLength) => { \r\n    return (value) => {\r\n    if (value.length > maxLength) {\r\n        return  `Max length is ${maxLength} symbols`\r\n    }\r\n    return undefined\r\n}\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2ZEWz\",\"pageNumber\":\"Paginator_pageNumber__17WYp\",\"selectedPage\":\"Paginator_selectedPage__3hkzG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3sVTi\",\"loginBlock\":\"Header_loginBlock__3uf1s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Friends_dialog__3aQ1t\"};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRedirect =(state)=>({\r\n    isAuth: state.auth.isAuth\r\n    })\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Navigate to=\"/login\" />;\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    \r\n   let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n\r\n","import { stopSubmit } from \"redux-form\";\r\nimport { profileAPI, usersAPI } from \"../api/api\";\r\n\r\nconst addPost = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\r\nconst SWITCHING_OFF_EDIT_MODE = \"SWITCHING_OFF_EDIT_MODE\"\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: addPost, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\nexport const setEditMode = (editMode) => ({type: SWITCHING_OFF_EDIT_MODE, editMode})\r\n\r\nexport const getUserProfileThunkCreator = (userId) => {\r\n    return (dispatch) => {\r\n        usersAPI.getProfile(userId).then(\r\n            response => {\r\n                dispatch(setUserProfile(response.data));\r\n            })\r\n    }\r\n}\r\nexport const getUserStatusThunkCreator = (userId) => {\r\n    return (dispatch) => {\r\n        profileAPI.getStatus(userId).then(\r\n            response => {\r\n                dispatch(setStatus(response.data));\r\n            })\r\n    }\r\n}\r\nexport const updateUserStatusThunkCreator = (status) => {\r\n    return (dispatch) => {\r\n        profileAPI.updateStatus(status).then(\r\n            response => {\r\n                if (response.data.resultCode===0){\r\n                dispatch(setStatus(status));\r\n                }\r\n            })\r\n    }\r\n}\r\nexport const savePhotoThunkCreator = (file) => {\r\n    return (dispatch) => {\r\n        profileAPI.savePhoto(file).then(\r\n            response => {\r\n                if (response.data.resultCode===0){\r\n                dispatch(savePhotoSuccess(response.data.data.photos));\r\n                }\r\n            })\r\n    }\r\n}\r\nexport const saveProfileThunkCreator = (profile) => {\r\n    return (dispatch, getState) => {\r\n       const userId = getState().auth.userId\r\n        profileAPI.saveProfile(profile).then(\r\n            response => {\r\n                if (response.data.resultCode===0){\r\n                dispatch(getUserProfileThunkCreator(userId));\r\n                dispatch(setEditMode(false))\r\n                } else {\r\n                    dispatch(stopSubmit(\"edit-profile\", { _error: response.data.messages[0]}))\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: \"1\", message: \"Hello world!\", likeCounts: \" 3\" },\r\n        { id: \"2\", message: \"Hi, its me!\", likeCounts: \" 5\" }\r\n    ],\r\n    profile: null,\r\n    status: \"\",\r\n    editMode: false\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case addPost:\r\n            return {\r\n                ...state, posts: [...state.posts, { id: \"5\", message: action.newPostText, likeCounts: \" 0\" }]\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state, profile: {...state.profile, photos: action.photos}\r\n            }\r\n        case SWITCHING_OFF_EDIT_MODE:\r\n            return {\r\n                ...state, editMode: action.editMode\r\n            }    \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}