(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[3],{132:function(e,t,s){"use strict";var o=s(14),n=s.n(o),r=s(18),i=s.n(r),c=s(0),a=s.n(c),u=s(5),d=s.n(u),j=s(34),l=function(e){function t(t){var s;if(s=e.call(this,t)||this,!t._reduxForm)throw new Error("Form must be inside a component decorated with reduxForm()");return s}i()(t,e);var s=t.prototype;return s.componentDidMount=function(){this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},s.componentDidUpdate=function(e){this.props.onSubmit!==e.onSubmit&&this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},s.render=function(){var e=this.props,t=(e._reduxForm,n()(e,["_reduxForm"]));return a.a.createElement("form",t)},t}(c.Component);l.propTypes={onSubmit:d.a.func.isRequired,_reduxForm:d.a.object},t.a=Object(j.b)(l)},293:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__cOu1i",posts:"MyPosts_posts__vHqrW"}},294:function(e,t,s){e.exports={item:"Post_item__2Q8S_"}},295:function(e,t,s){e.exports={discriptionBlock:"ProfileInfo_discriptionBlock__3cqdk",mainPhoto:"ProfileInfo_mainPhoto__2Hzni",contact:"ProfileInfo_contact__1LkxC"}},296:function(e,t,s){"use strict";s.r(t);var o=s(3),n=s(0),r=s.n(n),i=s(15),c=s(6),a=s(9),u=s(92),d=s(91),j=s(86),l=s(123),b=s(64),h=s(22),O=s(293),f=s.n(O),p=s(294),x=s.n(p),m=s(1),v=function(e){return Object(m.jsxs)("div",{className:x.a.item,children:[e.message,Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{children:"Like"}),e.likeCounts]})]})},k=Object(b.a)(10),P=r.a.memo((function(e){var t=e.posts.map((function(e){return Object(m.jsx)(v,{message:e.message,likeCounts:e.likeCounts})}));return Object(m.jsxs)("div",{className:f.a.postsBlock,children:[Object(m.jsx)("h3",{children:" My posts"}),Object(m.jsx)(g,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(m.jsx)("div",{className:f.a.posts,children:t})]})})),g=Object(l.a)({form:"ProfileAddNewPostForm"})((function(e){return Object(m.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(m.jsx)("div",{children:Object(m.jsx)(j.a,{component:h.b,name:"newPostText",validate:[b.b,k],placeholder:"Post message"})}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{children:"new post"})})]})})),S=P,M=Object(i.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(Object(u.a)(t))}}}))(S),_=s(48),C=s(295),F=s.n(C),T=s(23),U=function(e){var t=Object(n.useState)(!1),s=Object(T.a)(t,2),o=s[0],r=s[1],i=Object(n.useState)(e.status),c=Object(T.a)(i,2),a=c[0],u=c[1];Object(n.useEffect)((function(){u(e.status)}),[e.status]);return Object(m.jsxs)("div",{children:[!o&&Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Status:"})," ",Object(m.jsxs)("span",{onDoubleClick:function(){r(!0)},children:[" ",e.status," "]})]}),o&&Object(m.jsx)("div",{children:Object(m.jsx)("input",{onMouseOut:function(){r(!1),e.updateUserStatus(a)},autoFocus:!0,onChange:function(e){u(e.currentTarget.value)},value:a})})]})},w=s(121),E=s(132),y=s(45),N=s.n(y),A=Object(l.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,s=e.profile,o=e.error;return Object(m.jsxs)(E.a,{onSubmit:t,children:[Object(m.jsx)("div",{children:Object(m.jsx)("button",{children:"Save"})}),o&&Object(m.jsxs)("div",{className:N.a.formSummuryError,children:[" ",o," "]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Full name:"})," ",Object(h.c)("Full name","fullName",h.a,[])]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:" About me:"})," ",Object(h.c)("About me","aboutMe",h.b,[])]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Looking for a job:"})," ",Object(h.c)("","lookingForAJob",h.a,[],{type:"checkbox"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"My professional skills:"})," ",Object(h.c)("My skills","lookingForAJobDescription",h.b,[])]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Contacts:"})," ",Object.keys(s.contacts).map((function(e){return Object(m.jsxs)("div",{className:N.a.contacts,children:[Object(m.jsx)("b",{children:e})," ",Object(h.c)(e,"contacts."+e,h.a,[])]},e)}))]})]})})),I=function(e){var t=e.profile,s=e.isOwner,o=e.goToEditMode;return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:s&&Object(m.jsx)("button",{onClick:o,children:"Edit"})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Full name:"})," ",t.fullName]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:" About me:"})," ",t.aboutMe]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Looking for a job:"})," ",t.lookingForAJob?"Yes":"No"]}),t.lookingForAJob&&Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"My professional skills:"})," ",t.lookingForAJobDescription]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Contacts:"})," ",Object.keys(t.contacts).map((function(e){return Object(m.jsx)(B,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},B=function(e){var t=e.contactTitle,s=e.contactValue;return Object(m.jsxs)("div",{className:F.a.contact,children:[" ",Object(m.jsxs)("b",{children:[t,":"]})," ",s]})},J=function(e){var t=e.profile,s=e.status,o=e.updateUserStatus,n=e.isOwner,r=e.savePhoto,i=e.saveProfile,c=e.editModeBll,a=e.setEditMode;if(!t)return Object(m.jsx)(_.a,{});return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:F.a.discriptionBlock,children:[Object(m.jsx)("img",{src:t.photos.large||w.a,className:F.a.mainPhoto}),n&&Object(m.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&r(e.target.files[0])}}),c?Object(m.jsx)(A,{initialValues:t,profile:t,onSubmit:function(e){i(e)},saveProfile:i}):Object(m.jsx)(I,{goToEditMode:function(){a(!0)},profile:t,isOwner:n}),Object(m.jsx)(U,{status:s,updateUserStatus:o})]})})},z=function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)(J,{profile:e.profile,status:e.status,editModeBll:e.editMode,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile,setEditMode:e.setEditMode}),Object(m.jsx)(M,{})]})};t.default=Object(a.d)(Object(i.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth,editMode:e.profilePage.editMode}}),{getUserProfileThunkCreator:u.c,getUserStatusThunkCreator:u.d,updateUserStatusThunkCreator:u.h,savePhotoThunkCreator:u.e,saveProfileThunkCreator:u.f,setEditMode:u.g}),d.a)((function(e){var t=Object(c.g)("/profile/:userId"),s=t?t.params.userId:e.authorizedUserId,r=s===e.authorizedUserId;return Object(n.useEffect)((function(){e.getUserProfileThunkCreator(s),e.getUserStatusThunkCreator(s)})),Object(m.jsx)("div",{children:Object(m.jsx)(z,Object(o.a)(Object(o.a)({},e),{},{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatusThunkCreator,isOwner:r,editMode:e.editMode,savePhoto:e.savePhotoThunkCreator,saveProfile:e.saveProfileThunkCreator,setEditMode:e.setEditMode}))})}))}}]);
//# sourceMappingURL=3.50b1f46e.chunk.js.map